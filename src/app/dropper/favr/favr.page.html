<ion-content>
	<app-loccartt show="2"></app-loccartt>
	<div class="page-title">FavR</div>
	<div class="container-fluid section" *ngIf="showPage == 1">
		<div class="row">
			<div class="col-8 offset-2">
				<div class="favr-total">
					<div class="row align-center">
						<div class="col-4">
							<span class="icon">
								<app-svg name="wallet"></app-svg>
							</span>
						</div>
						<div class="col-8">
							<span class="text">Your Current</span>
							<span class="text"> FavR is</span>
						</div>
					</div>
					<div class="row">
						<div class="col-12">
							<h1 class="text-center">{{ userDets.current_credit }}</h1>
						</div>
					</div>
				</div>
			</div>
			<div class="col-12">
				<p class="text-center">You need atleast {{ config.credit_per_order }} FavR to place an Order</p>
			</div>
		</div>
	</div>
	<hr>
	<div class="rev-section" *ngIf="showPage == 1">
		<div class="title" (click)="favrHistPop = (favrHistPop == 1)?0:1">
			FavR History
			<span class="down" [class.active]="favrHistPop == 1">
				<app-svg name="down1"></app-svg>
			</span>
		</div>
		<div class="content" *ngIf="favrHistPop == 1">
			<div *ngFor="let month of favTrans | keyvalue:0">
				<p>{{ month.key | date:'MMMM y' }}</p>
				<div class="favr-history-item" *ngFor="let trans of month.value">
		        	<span class="icon">
		        		<app-svg *ngIf="trans.transaction_type == 'Got'" name="check"></app-svg>
		        		<app-svg *ngIf="trans.transaction_type == 'Spent'" name="wallet"></app-svg>
		        		<app-svg *ngIf="trans.transaction_type == 'Purchased'" name="check"></app-svg>
		        	</span>
					<div class="dets">
						<p *ngIf="trans.transaction_type == 'Purchased'" class="title">Purchased {{ trans.credit_qty }} FavRs</p>
						<p *ngIf="trans.transaction_type == 'Got'" class="title">Got {{ trans.credit_qty }} FavRs</p>
						<p *ngIf="trans.transaction_type == 'Spent'" class="title">Used {{ trans.credit_qty }} FavRs</p>

						<span class="date">{{ trans.created_at | date:'d/M/yy' }}</span>
					</div>
					<div class="time">{{ trans.created_at | date:'h:mm a' }}</div>
				</div>
			</div>
		</div>
	</div>
	<div class="section"></div>
</ion-content>
