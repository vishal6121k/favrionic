<ion-content>
	<app-loccart show="0" [cart]="cartLength" (searchBtnClicked)="showSearchBlock($event)"></app-loccart>
	<div class="container-fluid">
		<div class="row">
			<div class="col-md-12">
				<div class="search-box">
					<span class="icon">
						<app-svg name="search"></app-svg>
					</span>
					<input type="text" name="" (focus)="showSearch = 1" placeholder="Search for product or ask for something different" />
				</div>
			</div>
		</div>
	</div>
	<div class="container-fluid">
		<div class="row">
			<div class="col-12" *ngIf="cat_id == 0">
				<ion-slides scrollbar="true" [options]="slideOpts">
			        <ion-slide *ngFor="let cat of cats">
			          	<div class="cat-thumb" (click)="selectCategory(cat.id)">
			          		<span class="img">
			          			<img [src]="ProdImgUrl+'categories/'+cat.image_url" *ngIf="cat.image_url" />
			          			<img src="assets/images/none.jpg" *ngIf="!cat.image_url" />
			      			</span>
			      			<span class="text">{{ cat.name }}</span>
			          	</div>
			        </ion-slide>
			        <!-- <ion-slide>
			          	<div class="cat-thumb" (click)="selectCategory()">
			          		<span class="img">
			          			<img src="assets/images/stationary.png" />
			      			</span>
			      			<span class="text">Stationary</span>
			          	</div>
			        </ion-slide>
			        <ion-slide>
			          	<div class="cat-thumb" (click)="selectCategory()">
			          		<span class="img">
			          			<img src="assets/images/alcohol.png" />
			      			</span>
			      			<span class="text">Alcohol</span>
			          	</div>
			        </ion-slide>
			        <ion-slide>
			          	<div class="cat-thumb" (click)="selectCategory()">
			          		<span class="img">
			          			<img src="assets/images/medicine.png" />
			      			</span>
			      			<span class="text">Medicine</span>
			          	</div>
			        </ion-slide>
			        <ion-slide>
			          	<div class="cat-thumb" (click)="selectCategory()">
			          		<span class="img">
			          			<img src="assets/images/grocery.png" />
			      			</span>
			      			<span class="text">Fitness</span>
			          	</div>
			        </ion-slide>
			        <ion-slide>
			          	<div class="cat-thumb" (click)="selectCategory()">
			          		<span class="img">
			          			<img src="assets/images/grocery.png" />
			      			</span>
			      			<span class="text">Grocery</span>
			          	</div>
			        </ion-slide>
			        <ion-slide>
			          	<div class="cat-thumb" (click)="selectCategory()">
			          		<span class="img">
			          			<img src="assets/images/stationary.png" />
			      			</span>
			      			<span class="text">Stationary</span>
			          	</div>
			        </ion-slide>
			        <ion-slide>
			          	<div class="cat-thumb" (click)="selectCategory()">
			          		<span class="img">
			          			<img src="assets/images/alcohol.png" />
			      			</span>
			      			<span class="text">Alcohol</span>
			          	</div>
			        </ion-slide>
			        <ion-slide>
			          	<div class="cat-thumb" (click)="selectCategory()">
			          		<span class="img">
			          			<img src="assets/images/medicine.png" />
			      			</span>
			      			<span class="text">Medicine</span>
			          	</div>
			        </ion-slide>
			        <ion-slide>
			          	<div class="cat-thumb" (click)="selectCategory()">
			          		<span class="img">
			          			<img src="assets/images/grocery.png" />
			      			</span>
			      			<span class="text">Fitness</span>
			          	</div>
			        </ion-slide> -->
			    </ion-slides>
	      	</div>
	      	<div class="col-12" *ngIf="cat_id > 0">
				<div class="subcat-wrap">
					<div class="cat-back-btn">
						<div class="cat-thumb" (click)="cat_id = 0">
			          		<span class="img">
			          			<img src="assets/images/back1.png" />
			      			</span>
			      			<span class="text">Back</span>
			          	</div>
					</div>
			  		<div class="cat-thumb-wrap">
			  			<div class="cat-thumb-wrap-in">
				  			<ion-slides scrollbar="true" [options]="subcatSlideOpts">
						        <ion-slide *ngFor="let subcat of subcats">
						          	<div class="cat-thumb" (click)="selectSubcategory(subcat.id)" [class.active]="subcat.id == subcat_id">
						          		<span class="img">
						          			<img [src]="ProdImgUrl+'categories/'+subcat.image_url" *ngIf="subcat.image_url" />
						          			<img src="assets/images/none.jpg" *ngIf="!subcat.image_url" />
						      			</span>
						      			<span class="text">{{ subcat.name }}</span>
						          	</div>
						        </ion-slide>
						        <!-- <ion-slide>
						          	<div class="cat-thumb">
						          		<span class="img">
						          			<img src="assets/images/stationary.png" />
						      			</span>
						      			<span class="text">Stationary</span>
						          	</div>
						        </ion-slide>
						        <ion-slide>
						          	<div class="cat-thumb">
						          		<span class="img">
						          			<img src="assets/images/alcohol.png" />
						      			</span>
						      			<span class="text">Alcohol</span>
						          	</div>
						        </ion-slide>
						        <ion-slide>
						          	<div class="cat-thumb">
						          		<span class="img">
						          			<img src="assets/images/medicine.png" />
						      			</span>
						      			<span class="text">Medicine</span>
						          	</div>
						        </ion-slide>
						        <ion-slide>
						          	<div class="cat-thumb">
						          		<span class="img">
						          			<img src="assets/images/grocery.png" />
						      			</span>
						      			<span class="text">Fitness</span>
						          	</div>
						        </ion-slide>
						        <ion-slide>
						          	<div class="cat-thumb">
						          		<span class="img">
						          			<img src="assets/images/grocery.png" />
						      			</span>
						      			<span class="text">Grocery</span>
						          	</div>
						        </ion-slide>
						        <ion-slide>
						          	<div class="cat-thumb">
						          		<span class="img">
						          			<img src="assets/images/stationary.png" />
						      			</span>
						      			<span class="text">Stationary</span>
						          	</div>
						        </ion-slide>
						        <ion-slide>
						          	<div class="cat-thumb">
						          		<span class="img">
						          			<img src="assets/images/alcohol.png" />
						      			</span>
						      			<span class="text">Alcohol</span>
						          	</div>
						        </ion-slide>
						        <ion-slide>
						          	<div class="cat-thumb">
						          		<span class="img">
						          			<img src="assets/images/medicine.png" />
						      			</span>
						      			<span class="text">Medicine</span>
						          	</div>
						        </ion-slide>
						        <ion-slide>
						          	<div class="cat-thumb">
						          		<span class="img">
						          			<img src="assets/images/grocery.png" />
						      			</span>
						      			<span class="text">Fitness</span>
						          	</div>
						        </ion-slide> -->
						    </ion-slides>
					    </div>
			  		</div>
				</div>
	      	</div>
      	</div>
	</div>
	<hr>
	<div class="dot-loader" *ngIf="showLoad == 1">
	  	<div class='dot'></div>
	  	<div class='dot'></div>
	  	<div class='dot'></div>
	  	<div class='dot'></div>
	</div>
	<!-- <div class="loader text-center" *ngIf="showLoad == 1">
		<div class="loader-in">
			<img src="/assets/images/loader.gif" />
		</div>
	</div> -->
	<div class="container-fluid section" *ngIf="cat_id == 0 && showLoad == 0">
		<div class="row align-center">
			<div class="col-8">
				<h5 class="section-title">Popular in your area</h5>
			</div>
			<div class="col-4 text-right">
				<a class="view-all-sec-btn" (click)="showAllProds()">View All ></a>
			</div>
		</div>
		<div class="row">
			<div class="col-md-12">
				<ion-slides scrollbar="true" [options]="prodSlideOpts">
			        <ion-slide *ngFor="let pop of popProds">
			        	<div class="product-thumb-wrap">
			        		<div class="product-thumb">
			        			<span class="fav-star-wrap" [class.active]="userSaved.indexOf(pop.id.toString()) > -1" (click)="saveUserProduct(pop.id)">
			        				<span class="fav-star"></span>
			        			</span>
			        			<div class="image">
			        				<img [src]="ProdImgUrl+'products/'+pop.image_url" *ngIf="pop.image_url" />
			        				<img src="assets/images/none.jpg" *ngIf="!pop.image_url" />
		        				</div>
		        				<h6 class="title">{{ pop.name }}</h6>
		        				<p class="subtitle" *ngIf="pop.pricing > 0">Estimated <span class="price">&#8364; {{ pop.pricing }}</span></p>
		        				<p class="subtitle" *ngIf="pop.pricing == 0">&nbsp;</p>
		        				<button *ngIf="!cartProd[pop.id]" (click)="addProd(pop.id, pop.pricing, pop.name, pop.image_url)" class="pt-add-btn">Add<span class="plus">+</span></button>
		        				<span class="pt-num" *ngIf="cartProd[pop.id]">
		        					<span class="pt-wp-add-btn minus" (click)="subProd(pop.id)">-</span>{{ cartProd[pop.id]['quantity'] }}<span class="pt-wp-add-btn plus" (click)="addProd(pop.id, pop.pricing, pop.name, pop.image_url)">+</span>
		        				</span>
			        		</div>
			        	</div>
			        </ion-slide>
			        <!-- <ion-slide>
			        	<div class="product-thumb-wrap">
			        		<div class="product-thumb">
			        			<span class="fav-star-wrap" [class.active]="favPrd[14]" (click)="saveUserProduct(14)">
			        				<span class="fav-star"></span>
			        			</span>
			        			<div class="image">
			        				<img src="assets/images/cashew.png" />
		        				</div>
		        				<h6 class="title">Cashew</h6>
		        				<p class="subtitle">Estimated <span class="price">&#8364; 7.70</span></p>
		        				<button *ngIf="!cartProd[14]" (click)="addProd(14)" class="pt-add-btn">Add<span class="plus">+</span></button>
		        				<span class="pt-num" *ngIf="cartProd[14]">
		        					<span class="pt-wp-add-btn minus" (click)="subProd(14)">-</span>{{ cartProd[14] }}<span class="pt-wp-add-btn plus" (click)="addProd(14)">+</span>
		        				</span>
			        		</div>
			        	</div>
			        </ion-slide>
			        <ion-slide>
			        	<div class="product-thumb-wrap">
			        		<div class="product-thumb">
			        			<span class="fav-star-wrap" [class.active]="favPrd[15]" (click)="saveUserProduct(15)">
			        				<span class="fav-star"></span>
			        			</span>
			        			<div class="image">
			        				<img src="assets/images/sugar.png" />
		        				</div>
		        				<h6 class="title">Sugar</h6>
		        				<p class="subtitle">Estimated <span class="price">&#8364; 7.70</span></p>
		        				<button *ngIf="!cartProd[15]" (click)="addProd(15)" class="pt-add-btn">Add<span class="plus">+</span></button>
		        				<span class="pt-num" *ngIf="cartProd[15]">
		        					<span class="pt-wp-add-btn minus" (click)="subProd(15)">-</span>{{ cartProd[15] }}<span class="pt-wp-add-btn plus" (click)="addProd(15)">+</span>
		        				</span>
			        		</div>
			        	</div>
			        </ion-slide> -->
			    </ion-slides>
			</div>
		</div>
	</div>
	<hr *ngIf="cat_id == 0 && showLoad == 0">
	<div class="container-fluid section" *ngIf="cat_id == 0 && showLoad == 0">
		<div class="row align-center">
			<div class="col-8">
				<h5 class="section-title">Recommended for you</h5>
			</div>
			<div class="col-4 text-right">
				<a class="view-all-sec-btn" (click)="showAllProds()">View All ></a>
			</div>
		</div>
		<div class="row">
			<div class="col-md-12">
				<ion-slides scrollbar="true" [options]="prodSlideOpts">
					<ion-slide *ngFor="let pop of reccProds">
			        	<div class="product-thumb-wrap">
			        		<div class="product-thumb">
			        			<span class="fav-star-wrap" [class.active]="favPrd[pop.id]" (click)="saveUserProduct(pop.id)">
			        				<span class="fav-star"></span>
			        			</span>
			        			<div class="image">
			        				<img [src]="ProdImgUrl+'products/'+pop.image_url" *ngIf="pop.image_url" />
			        				<img src="assets/images/none.jpg" *ngIf="!pop.image_url" />
		        				</div>
		        				<h6 class="title">{{ pop.name }}</h6>
		        				<p class="subtitle" *ngIf="pop.pricing > 0">Estimated <span class="price">&#8364; {{ pop.pricing }}</span></p>
		        				<p class="subtitle" *ngIf="pop.pricing == 0">&nbsp;</p>
		        				<button *ngIf="!cartProd[pop.id]" (click)="addProd(pop.id, pop.pricing, pop.name, pop.image_url)" class="pt-add-btn">Add<span class="plus">+</span></button>
		        				<span class="pt-num" *ngIf="cartProd[pop.id]">
		        					<span class="pt-wp-add-btn minus" (click)="subProd(pop.id)">-</span>{{ cartProd[pop.id]['quantity'] }}<span class="pt-wp-add-btn plus" (click)="addProd(pop.id, pop.pricing, pop.name, pop.image_url)">+</span>
		        				</span>
			        		</div>
			        	</div>
			        </ion-slide>
			        <!-- <ion-slide>
			        	<div class="product-thumb-wrap">
			        		<div class="product-thumb">
			        			<span class="fav-star-wrap" [class.active]="favPrd[1]" (click)="saveUserProduct(1)">
			        				<span class="fav-star"></span>
			        			</span>
			        			<div class="image">
			        				<img src="assets/images/rice.png" />
		        				</div>
		        				<h6 class="title">Rice</h6>
		        				<p class="subtitle">Estimated <span class="price">&#8364; 7.70</span></p>
		        				<button *ngIf="!cartProd[1]" (click)="addProd(1)" class="pt-add-btn">Add<span class="plus">+</span></button>
		        				<span class="pt-num" *ngIf="cartProd[1]">
		        					<span class="pt-wp-add-btn minus" (click)="subProd(1)">-</span>{{ cartProd[1] }}<span class="pt-wp-add-btn plus" (click)="addProd(1)">+</span>
		        				</span>
			        		</div>
			        	</div>
			        </ion-slide>
			        <ion-slide>
			        	<div class="product-thumb-wrap">
			        		<div class="product-thumb">
			        			<span class="fav-star-wrap" [class.active]="favPrd[2]" (click)="saveUserProduct(2)">
			        				<span class="fav-star"></span>
			        			</span>
			        			<div class="image">
			        				<img src="assets/images/cashew.png" />
		        				</div>
		        				<h6 class="title">Cashew</h6>
		        				<p class="subtitle">Estimated <span class="price">&#8364; 7.70</span></p>
		        				<button *ngIf="!cartProd[2]" (click)="addProd(2)" class="pt-add-btn">Add<span class="plus">+</span></button>
		        				<span class="pt-num" *ngIf="cartProd[2]">
		        					<span class="pt-wp-add-btn minus" (click)="subProd(2)">-</span>{{ cartProd[2] }}<span class="pt-wp-add-btn plus" (click)="addProd(2)">+</span>
		        				</span>
			        		</div>
			        	</div>
			        </ion-slide>
			        <ion-slide>
			        	<div class="product-thumb-wrap">
			        		<div class="product-thumb">
			        			<span class="fav-star-wrap" [class.active]="favPrd[3]" (click)="saveUserProduct(3)">
			        				<span class="fav-star"></span>
			        			</span>
			        			<div class="image">
			        				<img src="assets/images/sugar.png" />
		        				</div>
		        				<h6 class="title">Sugar</h6>
		        				<p class="subtitle">Estimated <span class="price">&#8364; 7.70</span></p>
		        				<button *ngIf="!cartProd[3]" (click)="addProd(3)" class="pt-add-btn">Add<span class="plus">+</span></button>
		        				<span class="pt-num" *ngIf="cartProd[3]">
		        					<span class="pt-wp-add-btn minus" (click)="subProd(3)">-</span>{{ cartProd[3] }}<span class="pt-wp-add-btn plus" (click)="addProd(3)">+</span>
		        				</span>
			        		</div>
			        	</div>
			        </ion-slide> -->
			    </ion-slides>
			</div>
		</div>
	</div>
	<div class="container-fluid section product-wrap" *ngIf="cat_id > 0 && showLoad == 0">
		<div class="row align-center">
			<div class="col-8">
				<h5 class="section-title">All Products</h5>
			</div>
			<div class="col-4 text-right">
				<!-- <a href="#">View All ></a> -->
			</div>
		</div>
		<div class="row">
			<div class="col-4 product-thumb-wrap" *ngFor="let pop of allProds">
				<div class="product-thumb">
        			<span class="fav-star-wrap" [class.active]="favPrd[pop.id]" (click)="saveUserProduct(pop.id)">
        				<span class="fav-star"></span>
        			</span>
        			<div class="image">
        				<img [src]="ProdImgUrl+'products/'+pop.image_url" *ngIf="pop.image_url" />
        				<img src="assets/images/none.jpg" *ngIf="!pop.image_url" />
    				</div>
    				<h6 class="title">{{ pop.name }}</h6>
    				<p class="subtitle" *ngIf="pop.pricing > 0">Estimated <span class="price">&#8364; {{ pop.pricing }}</span></p>
    				<p class="subtitle" *ngIf="pop.pricing == 0">&nbsp;</p>
    				<button *ngIf="!cartProd[pop.id]" (click)="addProd(pop.id, pop.pricing, pop.name, pop.image_url)" class="pt-add-btn">Add<span class="plus">+</span></button>
    				<span class="pt-num" *ngIf="cartProd[pop.id]">
    					<span class="pt-wp-add-btn minus" (click)="subProd(pop.id)">-</span>{{ cartProd[pop.id]['quantity'] }}<span class="pt-wp-add-btn plus" (click)="addProd(pop.id, pop.pricing, pop.name, pop.image_url)">+</span>
    				</span>
        		</div>
			</div>
		</div>
	</div>
	<div class="container-fluid section product-wrap" *ngIf="cat_id == -1 && showLoad == 0">
		<div class="row align-center">
			<div class="col-8">
				<h5 class="section-title">All Products</h5>
			</div>
			<div class="col-4 text-right">
				<!-- <a href="#">View All ></a> -->
			</div>
		</div>
		<div class="row">
			<div class="col-4 product-thumb-wrap" *ngFor="let pop of allProds">
				<div class="product-thumb">
        			<span class="fav-star-wrap" [class.active]="favPrd[pop.id]" (click)="saveUserProduct(pop.id)">
        				<span class="fav-star"></span>
        			</span>
        			<div class="image">
        				<img [src]="ProdImgUrl+'products/'+pop.image_url" *ngIf="pop.image_url" />
        				<img src="assets/images/none.jpg" *ngIf="!pop.image_url" />
    				</div>
    				<h6 class="title">{{ pop.name }}</h6>
    				<p class="subtitle" *ngIf="pop.pricing > 0">Estimated <span class="price">&#8364; {{ pop.pricing }}</span></p>
    				<p class="subtitle" *ngIf="pop.pricing == 0">&nbsp;</p>
    				<button *ngIf="!cartProd[pop.id]" (click)="addProd(pop.id, pop.pricing, pop.name, pop.image_url)" class="pt-add-btn">Add<span class="plus">+</span></button>
    				<span class="pt-num" *ngIf="cartProd[pop.id]">
    					<span class="pt-wp-add-btn minus" (click)="subProd(pop.id)">-</span>{{ cartProd[pop.id]['quantity'] }}<span class="pt-wp-add-btn plus" (click)="addProd(pop.id, pop.pricing, pop.name, pop.image_url)">+</span>
    				</span>
        		</div>
			</div>
		</div>
	</div>
	<div class="spacer" *ngIf="cartLength"></div>
</ion-content>
<div class="home-cart-popup" [class.active]="cartLength">
	<span class="icon"><app-svg name="cart"></app-svg></span>
	<span class="text">{{ this.cartLength }} Item<span *ngIf="cartLength > 1">s</span><span class="sep-dot"></span><span class="value" (click)="clearCart()">(Clear)</span></span>
	<a routerLink="/shopper/cart" class="view-cart-btn">View Cart</a>
</div>
<div class="search-popup" [class.active]="showSearch == 1">
	
</div>